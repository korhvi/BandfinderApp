(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();const x="modulepreload",D=function(e){return"/"+e},$={},P=function(n,r,i){let t=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));t=Promise.all(r.map(a=>{if(a=D(a),a in $)return;$[a]=!0;const u=a.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${m}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":x,u||(l.as="script",l.crossOrigin=""),l.href=a,o&&l.setAttribute("nonce",o),document.head.appendChild(l),u)return new Promise((c,d)=>{l.addEventListener("load",c),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return t.then(()=>n()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};document.addEventListener("DOMContentLoaded",function(){window.fetchArtistInfo=_;const e=document.getElementById("search-button"),n=document.getElementById("search-input");e.addEventListener("click",C),n.addEventListener("keypress",function(i){i.key==="Enter"&&C()}),document.getElementById("home-button").addEventListener("click",function(){window.location.href="index.html"}),j()});async function j(){try{const e=await T()}catch(e){console.error("Failed to fetch API key:",e)}}async function T(){return(await P(async()=>{const{default:e}=await import("./config-DkfW6P7U.js");return{default:e}},[])).default.apiKey}async function C(){const e=document.getElementById("search-input").value.trim();if(e!=="")try{const n=await T();await _(e,n)}catch(n){console.error("Error fetching API key:",n)}}async function _(e,n){const r=`https://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=${encodeURIComponent(e)}&api_key=${n}&format=json`;try{const t=await(await fetch(r)).json();q(t),t.artist&&(await H(e,n),await O(e,n))}catch(i){console.error("Error fetching artist info:",i)}}async function H(e,n){const r=`https://ws.audioscrobbler.com/2.0/?method=artist.gettopalbums&artist=${encodeURIComponent(e)}&api_key=${n}&format=json`,t=await(await fetch(r)).json();M(t,n)}async function O(e,n){const r=`https://ws.audioscrobbler.com/2.0/?method=artist.getsimilar&artist=${encodeURIComponent(e)}&api_key=${n}&format=json`,t=await(await fetch(r)).json();N(t,n)}function q(e){const n=document.getElementById("results");if(e.artist){const r=e.artist.name,i=e.artist.bio.summary;n.innerHTML=`<h2>${r}</h2>
                                <p>${i}</p>`}else n.innerHTML="<p>Artist not found. Try another search.</p>"}function M(e,n){const r=document.getElementById("results");if(e.topalbums&&e.topalbums.album.length>0){let E=function(k){let f=s[k];for(;f.name==="(null)";)k++,f=s[k];const L=f.image[a]["#text"],p=f.name,S=f.artist.name,g=document.getElementById(m),I=g.querySelector(".album-image-1");I.src=L,I.alt=p;const A=g.querySelector(".album-image-2");A.src=L,A.alt=p;const U=g.querySelector(".album-name");U.textContent=p;const R=g.querySelector(".album-tracks");R.id=`${p}-tracks`,B(S,p,n)};var i=E;let t=0;const s=e.topalbums.album;let o=s[t];const a=3;for(;o.name==="(null)";)t++,o=s[t];const u=o.image[a]["#text"],m=o.name,l=o.artist.name,c=document.createElement("div");c.classList.add("album"),c.id=m;const d=document.createElement("img");d.src=u,d.alt=m,d.classList.add("album-image-1");const h=document.createElement("img");h.src=u,h.alt=m,h.classList.add("album-image-2");const w=document.createElement("p");w.textContent=m,w.classList.add("album-name");const v=document.createElement("div");v.classList.add("album-tracks"),v.id=`${m}-tracks`;const y=document.createElement("button");y.id="prev-btn",y.innerHTML=`
            <svg viewBox="0 0 24 24" width="60" height="60" fill="currentColor">
                <polygon points="14,6 8,12 14,18"/>
            </svg>
        `;const b=document.createElement("button");b.id="next-btn",b.innerHTML=`
            <svg viewBox="0 0 24 24" width="60" height="60" fill="currentColor">
                <polygon points="10,6 16,12 10,18"/>
            </svg>
        `,c.appendChild(d),c.appendChild(h),c.appendChild(w),c.appendChild(v),c.appendChild(y),c.appendChild(b),r.appendChild(c),B(l,m,n),y.addEventListener("click",()=>{t>0&&(t--,E(t))}),b.addEventListener("click",()=>{t<s.length-1&&(t++,E(t))})}}async function B(e,n,r){const i=encodeURIComponent(e),t=encodeURIComponent(n),s=`https://ws.audioscrobbler.com/2.0/?method=album.getinfo&artist=${i}&album=${t}&api_key=${r}&format=json`;try{const o=document.getElementById(`${n}-tracks`);o.classList.add("tracks");const a=await fetch(s);if(!a.ok)throw new Error("Failed to fetch album tracks");const m=(await a.json()).album.tracks.track.map((l,c)=>`<p>${c+1}. ${l.name}</p>`).join("");o.innerHTML=m,o.style.overflowY="auto",o.style.maxHeight="400px",o.style.position="absolute",o.style.right="10px"}catch(o){console.error("Error fetching album tracks:",o)}}function N(e,n){const r=document.getElementById("results");if(e.similarartists&&e.similarartists.artist.length>0){let i='<h3>Similar Artists:</h3><div class="similar-artist-container">';e.similarartists.artist.slice(0,12).forEach(t=>{i+=`<div class="similar-artist" onclick="fetchArtistInfo('${t.name}', '${n}')">${t.name}</div>`}),i+="</div>",r.insertAdjacentHTML("beforeend",i)}}
